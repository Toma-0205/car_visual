<!doctype html>
<html lang="ja">
<head>
<title>コンテンツ閲覧状況確認画面</title>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4"></script>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<style>
    .border-box {
      padding: 8px 24px;
      display: inline-block;
    }
    .text-gray{
        color: gray;
        text-decoration: none;
    }
    .text-gray:hover{
        color: white;
        text-decoration: none;
    }
    .title-text{
        color: white;
        text-decoration: none;
        font-size: 20px;
    }
    .text-white{
        color: white;
        font-size: 16px;
    }
    .subtitle-text{
        color: white;
        text-decoration: none;
        font-size: 20px;
        position: relative;
    }
    .subtitle-text::after {
    content: '';
    position: absolute; 
    left: 0; 
    right: 0; 
    bottom: 0; 
    border-bottom: 1px solid red; 
    width: 100%;
    }
    #custom-legend .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }

    #custom-legend .legend-color {
      width: 50px;
      height: 10px;
      margin-right: 5px;
      display: inline-block;
    }

    .car-type {
        position: relative;
        width: 100%; 
        height: 60px; 
        font-size: x-large;
        border-radius: 10px;
        border: 2px solid red;
    }

    .fixed-arrow {
    position: absolute; 
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    }

    .gauge-container {
    position: relative;
    }

    .max-viewGauge {
        width: 100%; 
        height: 50px;
        background-color: #935004;
        border-radius: 10px;
    }

    .view-gauge {
        width: 80%; 
        height: 50px;
        background-color: #FC8901;
        border-radius: 10px;
        position: absolute;
        top: 0; 
        left: 0; 
        z-index: 1;
    }
    .view-count{
        width: 50%;
        height: 50px;
        background-color: gray;
        border-radius: 10px;
    }


</style>

</head>
<body class="bg-dark">
<main id="app">
    <div class="py-4 fixed-top bg-dark">
        <div class="">           
            <div class="d-flex flex-row justify-content-between align-items-center">
                <div class="border-box">
                    <a href="index.html" class="text-gray">閉じる</a>
                </div>
                <div class="">
                    <div class="text-center title-text">コンテンツ閲覧状況</div>
                </div>
                <div style="width: 80px;"><!-- 占位符以确保对称性 --></div>
            </div>
        </div>
    </div>
    <div class="py-4">
    </div>
    <div class="py-4">
    </div>
    <div class="py-4">
        <div class="container subtitle-text">
            <div class="col-lg-6 col-12">
                <div class="">総閲覧数</div>
            </div>
        </div>
    </div>
    <div class="py-4">
        <div class="container">
            <div class="d-flex flex-row justify-content-around align-items-center">
                <div style="width: 80px;"></div>
                <div id="donutchart" style="height: 300px; width: auto;"></div>
                <div id="custom-legend">
                    <div class="legend-item py-2 text-white">
                        <div class="column">
                            <div>閲覧数</div>
                            <span class="legend-color" style="background-color: red;"></span>
                        </div>
                    </div>
                    <div class="legend-item py-2 text-white">
                        <div class="column">
                            <div>未閲覧数</div>
                            <span class="legend-color" style="background-color: #530404;"></span>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="py-4">
        <div class="container subtitle-text">
            <div class="col-lg-6 col-12">
                <div class="">車種別閲覧数</div>
            </div>
        </div>
    </div>


    <div class="py-4 text-white">
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <div class="col-9 d-flex justify-content-center">
                        <div class="p-1 car-type  d-flex justify-content-center align-items-center">ネオスターEV<a href="carDetail.html"><i class="pl-4 fa-solid fa-circle-arrow-right fixed-arrow" style="color: #ff0000;"></i></a></div>
                    </div>
                    <div class="">
                        <div class="pt-2 d-flex flex-row justify-content-between align-items-center">
                            <div>0%</div>
                            <div>50%</div>
                            <div>100%</div>
                        </div>
                        <div class="gauge-container">
                            <div class="max-viewGauge"></div>
                            <div class="view-gauge"></div>
                        </div>
                    </div>
                </div>
                <div class="col-3 d-flex justify-content-center align-items-center">
                    <div class="view-count d-flex justify-content-center align-items-center">38/50件</div>
                </div>
            </div>
        </div>
    </div>
    <div class="py-4">
    </div>

    <div class="py-4 text-white">
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <div class="col-9 d-flex justify-content-center">
                        <div class="p-1 car-type  d-flex justify-content-center align-items-center">スカイクルーザー7<a href="index.html"><i class="pl-4 fa-solid fa-circle-arrow-right fixed-arrow" style="color: #ff0000;"></i></a></div>
                    </div>
                    <div class="">
                        <div class="pt-2 d-flex flex-row justify-content-between align-items-center">
                            <div>0%</div>
                            <div>50%</div>
                            <div>100%</div>
                        </div>
                        <div class="gauge-container">
                            <div class="max-viewGauge"></div>
                            <div class="view-gauge"></div>
                        </div>
                    </div>
                </div>
                <div class="col-3 d-flex justify-content-center align-items-center">
                    <div class="view-count d-flex justify-content-center align-items-center">38/50件</div>
                </div>
            </div>
        </div>
    </div>
    <div class="py-4">
    </div>

    <div class="py-4 text-white">
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <div class="col-9 d-flex justify-content-center">
                        <div class="p-1 car-type  d-flex justify-content-center align-items-center">サンダーフォックス<a href="index.html"><i class="pl-4 fa-solid fa-circle-arrow-right fixed-arrow" style="color: #ff0000;"></i></a></div>
                    </div>
                    <div class="">
                        <div class="pt-2 d-flex flex-row justify-content-between align-items-center">
                            <div>0%</div>
                            <div>50%</div>
                            <div>100%</div>
                        </div>
                        <div class="gauge-container">
                            <div class="max-viewGauge"></div>
                            <div class="view-gauge"></div>
                        </div>
                    </div>
                </div>
                <div class="col-3 d-flex justify-content-center align-items-center">
                    <div class="view-count d-flex justify-content-center align-items-center">38/50件</div>
                </div>
            </div>
        </div>
    </div>
    <div class="py-4">
    </div>

    <div class="py-4 text-white">
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <div class="col-9 d-flex justify-content-center">
                        <div class="p-1 car-type  d-flex justify-content-center align-items-center">ミニベンチャー<a href="index.html"><i class="pl-4 fa-solid fa-circle-arrow-right fixed-arrow" style="color: #ff0000;"></i></a></div>
                    </div>
                    <div class="">
                        <div class="pt-2 d-flex flex-row justify-content-between align-items-center">
                            <div>0%</div>
                            <div>50%</div>
                            <div>100%</div>
                        </div>
                        <div class="gauge-container">
                            <div class="max-viewGauge"></div>
                            <div class="view-gauge"></div>
                        </div>
                    </div>
                </div>
                <div class="col-3 d-flex justify-content-center align-items-center">
                    <div class="view-count d-flex justify-content-center align-items-center">38/50件</div>
                </div>
            </div>
        </div>
    </div>

    <div class="py-4">
    </div>

    <div class="py-4 text-white">
        <div class="container">
            <div class="row">
                <div class="col-9">
                    <div class="col-9 d-flex justify-content-center">
                        <div class="p-1 car-type  d-flex justify-content-center align-items-center">ルナクロスSUV<a href="index.html"><i class="pl-4 fa-solid fa-circle-arrow-right fixed-arrow" style="color: #ff0000;"></i></a></div>
                    </div>
                    <div class="">
                        <div class="pt-2 d-flex flex-row justify-content-between align-items-center">
                            <div>0%</div>
                            <div>50%</div>
                            <div>100%</div>
                        </div>
                        <div class="gauge-container">
                            <div class="max-viewGauge"></div>
                            <div class="view-gauge"></div>
                        </div>
                    </div>
                </div>
                <div class="col-3 d-flex justify-content-center align-items-center">
                    <div class="view-count d-flex justify-content-center align-items-center">38/50件</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="py-4">
    </div>
    <div class="py-4">
    </div>


</main>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { packages: ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['状態', '件数'],
            ['閲覧', 80],
            ['未閲覧', 20],
        ]);

        var options = {
            title: '閲覧状況',
            pieHole: 0.5,
            pieSliceText: 'none', 
            colors: ['red', '#530404'], 
            legend: { position: 'none' },
            backgroundColor: 'transparent',
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        google.visualization.events.addListener(chart, 'ready', function () {
            var chartArea = chart.getChartLayoutInterface().getChartAreaBoundingBox();
            var svg = document.querySelector('#donutchart svg');
            var paths = svg.querySelectorAll('path');
            paths.forEach(function (path) {
                path.setAttribute('stroke', 'none');
            });

            var x = chartArea.left + chartArea.width / 2;
            var y = chartArea.top + chartArea.height / 2 + 10;
            var text = svg.querySelector('text') || document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', x);
            text.setAttribute('y', y);
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('font-family', 'Arial');
            text.setAttribute('font-size', '20');
            text.setAttribute('fill', 'white');
            text.textContent = '80%'; 
            svg.appendChild(text);
        });

        chart.draw(data, options);
    }
</script>

</body>
</html>
